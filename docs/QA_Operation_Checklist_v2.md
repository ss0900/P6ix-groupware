# 영업관리 모듈 QA 체크리스트 (v2)

## 목적

- 영업관리 모듈의 주요 플로우가 정상 동작하는지 확인
- UI/백엔드 연동, 자동 히스토리, 캘린더/대시보드 집계 검증
- 권한/스코프 및 리스트 페이징 동작 확인

## 사전 조건

- 로그인 가능한 계정 보유(영업담당/팀장/관리자 3종)
- 워크스페이스(회사) 권한 설정 완료
- 백엔드 및 프론트 실행 중

## 테스트 데이터 예시

- 고객사: 세움건설
- 담당자: 홍길동 / 010-1111-2222 / hong@test.com
- 파이프라인: 민간공사
- 단계: 신규문의 → 현장미팅 → 견적제출 → 협상 → 수주(유형 수주) → 실주(유형 실주)
- 리드: 강남 A현장 리모델링 / 예상금액 50,000,000 / 유입경로 소개
- 견적 항목: 철거 1,000,000 / 인테리어 30,000,000
- 입찰: OO 공공청사 리모델링 입찰 / 보증금 1,000,000
- 매출 계획: 1차 기성 / 20,000,000
- 수금: 1차 기성 수금 / 20,000,000
- 연관계약: 계약 ID = 1001 (메모: 1차 계약)

## 1. 파이프라인/단계 설정

- [ ] 이동: 영업관리 > 파이프라인 > 설정
- [ ] 파이프라인 추가: 이름=민간공사
- [ ] 기대: 파이프라인 목록에 표시되고 선택 가능
- [ ] 단계 추가: 신규문의, 현장미팅, 견적제출, 협상, 수주(유형 수주), 실주(유형 실주)
- [ ] 기대: 단계 순서/색상/확률이 저장됨

## 2. 고객사/담당자 등록

- [ ] 이동: 영업관리 > 고객관리
- [ ] 고객사 등록: 세움건설, 사업자번호, 업종, 전화, 주소 입력
- [ ] 기대: 고객사 목록에 표시됨
- [ ] 고객사 상세 이동 후 담당자 추가: 홍길동, 이메일, 전화, 주 담당자 체크
- [ ] 기대: 담당자 목록에 표시되고 주 담당자 뱃지 표시

## 3. 리드 생성

- [ ] 이동: 영업관리 > 영업기회 > 영업기회 등록
- [ ] 입력: 제목, 파이프라인, 단계(신규문의), 고객사/담당자, 예상금액, 마감일, 유입경로
- [ ] 기대: 리스트에 리드가 표시됨, 단계/고객/금액/담당 표시
- [ ] 기대: 리스트 페이징 동작(페이지 이동 시 데이터 갱신)

## 4. 인박스 접수

- [ ] 이동: 영업관리 > 영업접수
- [ ] 접수 처리 클릭: 담당자 지정, 단계=현장미팅, 메모 입력
- [ ] TODO 생성 체크: 제목/기한/담당자 지정
- [ ] 기대: 리드 상세 활동 로그에 접수 처리/단계 변경 기록 생성
- [ ] 기대: TODO 생성 및 리드 next action 예정일 갱신

## 5. 파이프라인 칸반 이동

- [ ] 이동: 영업관리 > 파이프라인
- [ ] 리드 카드 드래그: 현장미팅 → 견적제출
- [ ] 기대: 카드가 새 단계에 표시됨
- [ ] 기대: 리드 상세 활동 로그에 단계 변경 기록 생성

## 6. 리드 상세 탭 검증

- [ ] 활동 탭: 활동 추가(전화), 제목/내용 입력 후 저장
- [ ] 기대: 활동 목록에 표시, 최근 접촉일 갱신
- [ ] TODO 탭: TODO 추가 후 저장
- [ ] 기대: TODO 목록 표시, next action 예정일 갱신
- [ ] TODO 완료 체크: 완료 처리
- [ ] 기대: 활동 로그에 TODO 완료 기록 생성
- [ ] 파일 탭: 파일 업로드
- [ ] 기대: 파일 목록 표시, 활동 로그에 파일 추가 기록 생성
- [ ] 견적 탭: 견적 작성 버튼 클릭
- [ ] 기대: 견적 작성 화면으로 이동
- [ ] 연관계약 탭: 계약 ID/메모 입력 후 추가
- [ ] 기대: 연관계약 목록 표시 및 삭제 가능

## 7. 견적 생성/발송

- [ ] 견적 작성: 제목, 항목, 수량/단가 입력 후 저장
- [ ] 기대: 견적 리스트에 생성됨, 활동 로그에 견적 생성 기록
- [ ] 견적 상세 진입(수정 화면): 기존 데이터/아이템 로딩 확인
- [ ] PDF 미리보기 버튼 클릭
- [ ] 기대: PDF URL 새 탭 열림
- [ ] 발송 버튼 클릭
- [ ] 기대: 상태가 발송됨으로 변경, 활동 로그/메일 로그 생성

## 8. 캘린더 통합

- [ ] 이동: 영업관리 > TODO 캘린더
- [ ] 기대: 리드 TODO, 리드 마감일, 견적 유효일, 입찰 마감일 표시
- [ ] 날짜 클릭 시 우측 목록 노출 확인
- [ ] TODO 항목에서 완료 버튼 클릭
- [ ] 기대: 완료 상태 반영 및 리드 next action 예정일 갱신

## 9. 대시보드

- [ ] 이동: 영업관리 > 대시보드
- [ ] 기대: KPI 카드(이번달 신규/진행/수주/실주) 표시
- [ ] 기대: 단계별 전환 표 표시
- [ ] 기대: 지연 리드 TOP 목록 표시

## 10. 입찰

- [ ] 이동: 영업관리 > 입찰
- [ ] 입찰 등록: 입찰명, 연관 리드, 마감일, 보증금, 서류 입력 후 저장
- [ ] 기대: 입찰 목록에 표시됨
- [ ] 기대: 캘린더에 입찰 마감 이벤트 표시

## 11. 매출/수금

- [ ] 이동: 영업관리 > 매출/수금
- [ ] 매출 계획 추가: 항목명, 리드, 예정금액/예정일, 상태 입력
- [ ] 기대: 매출 계획 목록에 표시됨
- [ ] 수금 추가: 리드, 매출 계획 선택, 금액/예정일, 상태 입력
- [ ] 기대: 수금 목록에 표시됨

## 12. 이메일 센터

- [ ] 이동: 영업관리 > 이메일
- [ ] 템플릿 추가: 이름/제목/본문/변수 스키마(JSON) 입력
- [ ] 기대: 템플릿 목록에 표시됨
- [ ] 서명 추가: 이름/HTML 입력, 기본 서명 체크
- [ ] 기대: 서명 목록에 표시됨
- [ ] 발송 로그 탭: 로그 목록 표시 확인

## 13. 권한/스코프

- [ ] 영업담당: 본인 리드 수정 가능 / 타인 리드 수정 불가
- [ ] 팀장: 팀(또는 그룹) 리드 수정 가능 / 타인 리드 읽기 가능
- [ ] 관리자: 전 리드/견적/입찰/매출/수금 수정 가능
- [ ] 기대: 읽기 권한은 동일, 수정/삭제 권한은 역할에 따라 제한

## 실패 시 기록 항목

- 에러 메시지
- 재현 단계
- 사용자/워크스페이스
- 브라우저 콘솔 로그
- API 응답 코드
